<!DOCTYPE html><html><head><title>mis-search使用说明</title><meta charset='utf-8'><link href='https://dn-maxiang.qbox.me/res-min/themes/marxico.css' rel='stylesheet'><style>
.note-content  {font-family: "Helvetica Neue", Arial, "Hiragino Sans GB", STHeiti, "Microsoft YaHei", "WenQuanYi Micro Hei", SimSun, Song, sans-serif;}

</style></head><body><div id='preview-contents' class='note-content'>
                        
                    



<h1 id="mis-search使用说明">mis-search使用说明</h1>

<hr>

<blockquote>
  <p>为了统一搜索区域样式而封装的公共搜索组件</p>
</blockquote>



<h4 id="特点"><strong>特点</strong></h4>

<ul><li>样式支持自适应</li>
<li>可单独设置搜索条件默认展开（收起）</li>
<li>默认接受url参数填充表单</li>
<li>支持表单类型：单行(多行)文本框、下拉列表、datetimepicker</li>
</ul>

<hr>



<h2 id="input"><strong>Input</strong></h2>

<table>
<thead>
<tr>
  <th align="left">Name</th>
  <th align="left">Type</th>
  <th align="left">Default</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left">inputOption</td>
  <td align="left"><code>InputModel</code></td>
  <td align="left"><code>null</code></td>
  <td align="left"><a href="#1">详情参考此处</a></td>
</tr>
</tbody></table>




<h2 id="output"><strong>Output</strong></h2>

<table>
<thead>
<tr>
  <th align="left">Name</th>
  <th align="left">Parameters</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left">urlParams</td>
  <td align="left">queryParams</td>
  <td align="left">url参数</td>
</tr>
</tbody></table>


<hr>



<h2 id="代码示例"><strong>代码示例</strong></h2>



<h3 id="template">Template</h3>



<pre class="prettyprint hljs-dark"><code class="hljs vim"><div class="hljs-line">&lt;mis-<span class="hljs-built_in">search</span> [<span class="hljs-keyword">options</span>]=<span class="hljs-string">"inputOption"</span> (urlParams)=<span class="hljs-string">"getUrlParams($event)"</span>&gt;&lt;/mis-<span class="hljs-built_in">search</span>&gt;
</div></code></pre>



<h3 id="component">Component</h3>



<pre class="prettyprint hljs-dark"><code class="hljs typescript"><div class="hljs-line"><span class="hljs-keyword">import</span> {
</div><div class="hljs-line">  DateTimePickerInputMode, DropDownInputMode,
</div><div class="hljs-line">  InputModel
</div><div class="hljs-line">} <span class="hljs-keyword">from</span> <span class="hljs-string">"../../shared/components/mis-search/mis-search.model"</span>;
</div><div class="hljs-line">
</div><div class="hljs-line">Component({
</div><div class="hljs-line">  selector: <span class="hljs-string">'mis-list'</span>,
</div><div class="hljs-line">  templateUrl: <span class="hljs-string">'./list.component.html'</span>,
</div><div class="hljs-line">  styleUrls: [<span class="hljs-string">'./list.component.scss'</span>]
</div><div class="hljs-line">})
</div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> DemoListComponent <span class="hljs-keyword">implements</span>{
</div><div class="hljs-line"> inputOption: <span class="hljs-built_in">Array</span>&lt;InputModel&gt; = [
</div><div class="hljs-line">    {
</div><div class="hljs-line">      inputName: <span class="hljs-string">'id'</span>,
</div><div class="hljs-line">      placeholder: <span class="hljs-string">'ID'</span>,
</div><div class="hljs-line">      label: <span class="hljs-keyword">this</span>.urlParams.getInputLabel(<span class="hljs-string">'id'</span>),
</div><div class="hljs-line">      <span class="hljs-keyword">type</span>: <span class="hljs-string">'text'</span>,
</div><div class="hljs-line">    },
</div><div class="hljs-line">    {
</div><div class="hljs-line">      inputName: <span class="hljs-string">'orderType'</span>,
</div><div class="hljs-line">      placeholder: <span class="hljs-string">'业务类型'</span>,
</div><div class="hljs-line">      label: <span class="hljs-keyword">this</span>.urlParams.getInputLabel(<span class="hljs-string">'orderType'</span>),
</div><div class="hljs-line">      inputSetting: &lt;DropDownInputMode&gt;{
</div><div class="hljs-line">        dropDownData: <span class="hljs-keyword">this</span>.dictionary.getItems(<span class="hljs-string">'orderType'</span>)
</div><div class="hljs-line">      },
</div><div class="hljs-line">      <span class="hljs-keyword">type</span>: <span class="hljs-string">'dropDown'</span>,
</div><div class="hljs-line">    },
</div><div class="hljs-line">    {
</div><div class="hljs-line">      inputName: <span class="hljs-string">'ids'</span>,
</div><div class="hljs-line">      placeholder: <span class="hljs-string">'策略ID批次，以逗号分割'</span>,
</div><div class="hljs-line">      label: <span class="hljs-keyword">this</span>.urlParams.getInputLabel(<span class="hljs-string">'ids'</span>),
</div><div class="hljs-line">      hidden: <span class="hljs-literal">true</span>,
</div><div class="hljs-line">      <span class="hljs-keyword">type</span>: <span class="hljs-string">'textarea'</span>,
</div><div class="hljs-line">    },
</div><div class="hljs-line">    {
</div><div class="hljs-line">      inputName: <span class="hljs-string">'startTime'</span>,
</div><div class="hljs-line">      placeholder: <span class="hljs-string">'开始时间'</span>,
</div><div class="hljs-line">      label: <span class="hljs-string">'开始时间'</span>,
</div><div class="hljs-line">      hidden: <span class="hljs-literal">true</span>,
</div><div class="hljs-line">      inputSetting: &lt;DateTimePickerInputMode&gt;{
</div><div class="hljs-line">        pickerOpt: {
</div><div class="hljs-line">          single: <span class="hljs-literal">true</span>,
</div><div class="hljs-line">          startDate: <span class="hljs-string">""</span>,
</div><div class="hljs-line">          format: <span class="hljs-string">'YYYY-MM-DD'</span>,
</div><div class="hljs-line">          timePicker: <span class="hljs-literal">true</span>,
</div><div class="hljs-line">        },
</div><div class="hljs-line">      },
</div><div class="hljs-line">      <span class="hljs-keyword">type</span>: <span class="hljs-string">'dateTimePicker'</span>
</div><div class="hljs-line">    }
</div><div class="hljs-line">  ]
</div><div class="hljs-line">}
</div></code></pre>

<hr>



<h3 id="model">Model</h3>

<p id="1"></p>



<h4 id="inputmodel">InputModel</h4>



<pre class="prettyprint hljs-dark"><code class="hljs typescript"><div class="hljs-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> InputModel {
</div><div class="hljs-line">  <span class="hljs-keyword">type</span>: <span class="hljs-built_in">string</span>;               <span class="hljs-comment">// 表单类型：text,textarea,dropDown,dateTimePicker</span>
</div><div class="hljs-line">  inputSetting?: <span class="hljs-built_in">any</span>;         <span class="hljs-comment">// 针对不同表单，不同设定 </span>
</div><div class="hljs-line">  inputName?: <span class="hljs-built_in">string</span>;         <span class="hljs-comment">// 表单提交字段</span>
</div><div class="hljs-line">  label?: <span class="hljs-built_in">string</span>;
</div><div class="hljs-line">  placeholder?: <span class="hljs-built_in">string</span>; 
</div><div class="hljs-line">  inputType?: <span class="hljs-built_in">string</span>;         <span class="hljs-comment">// 表单type属性</span>
</div><div class="hljs-line">  data?: <span class="hljs-built_in">any</span>;                 <span class="hljs-comment">// 表单数据</span>
</div><div class="hljs-line">  hidden?: <span class="hljs-built_in">boolean</span>;           <span class="hljs-comment">// true：默认收起</span>
</div><div class="hljs-line">}
</div></code></pre>

<p id="2"></p>



<h4 id="datetimepickerinputmode">DateTimePickerInputMode</h4>



<pre class="prettyprint hljs-dark"><code class="hljs typescript"><div class="hljs-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> DateTimePickerInputMode {
</div><div class="hljs-line">  pickerOpt: <span class="hljs-built_in">any</span>;             <span class="hljs-comment">// 时间插件设定</span>
</div><div class="hljs-line">}
</div></code></pre>

<hr>



<h3 id="提示">提示</h3>

<blockquote>
  <p>如果<code>type='dropDown'</code> ，需要在公共字典里<strong><code>定义该字段的字典</code></strong> ，下拉框列表才能显示</p>
</blockquote></div></body></html>